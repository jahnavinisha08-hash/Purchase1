<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elegant Dresses - Shop</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        .fade-in {
            animation: fadeIn 0.3s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>
<body class="bg-gray-50">
    <div id="app"></div>

    <script>
        // State management
        let state = {
            currentPage: 'shop',
            cart: [],
            selectedDress: null,
            checkoutData: {
                firstName: '',
                lastName: '',
                email: '',
                address: '',
                city: '',
                zipCode: '',
                cardNumber: '',
                expiryDate: '',
                cvv: ''
            }
        };

        // Dress data
        const dresses = [
            {
                id: 1,
                name: "Elegant Evening Gown",
                price: 189.99,
                image: "https://images.unsplash.com/photo-1595777457583-95e059d581b8?w=500&h=700&fit=crop",
                description: "Stunning floor-length gown perfect for formal events",
                sizes: ['XS', 'S', 'M', 'L', 'XL'],
                colors: ['Black', 'Navy', 'Burgundy']
            },
            {
                id: 2,
                name: "Summer Floral Dress",
                price: 79.99,
                image: "https://images.unsplash.com/photo-1572804013309-59a88b7e92f1?w=500&h=700&fit=crop",
                description: "Light and breezy floral print for warm days",
                sizes: ['XS', 'S', 'M', 'L', 'XL'],
                colors: ['Pink', 'Blue', 'Yellow']
            },
            {
                id: 3,
                name: "Cocktail Party Dress",
                price: 129.99,
                image: "https://images.unsplash.com/photo-1566174053879-31528523f8ae?w=500&h=700&fit=crop",
                description: "Chic knee-length dress for cocktail parties",
                sizes: ['XS', 'S', 'M', 'L', 'XL'],
                colors: ['Red', 'Black', 'Emerald']
            },
            {
                id: 4,
                name: "Casual Midi Dress",
                price: 59.99,
                image: "https://images.unsplash.com/photo-1496747611176-843222e1e57c?w=500&h=700&fit=crop",
                description: "Comfortable everyday midi dress",
                sizes: ['XS', 'S', 'M', 'L', 'XL'],
                colors: ['White', 'Beige', 'Gray']
            },
            {
                id: 5,
                name: "Maxi Boho Dress",
                price: 94.99,
                image: "https://images.unsplash.com/photo-1515372039744-b8f02a3ae446?w=500&h=700&fit=crop",
                description: "Flowing bohemian style maxi dress",
                sizes: ['XS', 'S', 'M', 'L', 'XL'],
                colors: ['Coral', 'Turquoise', 'Purple']
            },
            {
                id: 6,
                name: "Little Black Dress",
                price: 99.99,
                image: "https://images.unsplash.com/photo-1539008835657-9e8e9680c956?w=500&h=700&fit=crop",
                description: "Classic LBD for any occasion",
                sizes: ['XS', 'S', 'M', 'L', 'XL'],
                colors: ['Black']
            }
        ];

        // SVG Icons
        const icons = {
            shoppingCart: `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path></svg>`,
            arrowLeft: `<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>`,
            x: `<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>`,
            check: `<svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>`
        };

        // Helper functions
        function getTotalPrice() {
            return state.cart.reduce((total, item) => total + item.price, 0).toFixed(2);
        }

        function addToCart(dress, size, color) {
            const cartItem = {
                ...dress,
                selectedSize: size,
                selectedColor: color,
                cartId: Date.now()
            };
            state.cart.push(cartItem);
            state.currentPage = 'shop';
            render();
        }

        function removeFromCart(cartId) {
            state.cart = state.cart.filter(item => item.cartId !== cartId);
            render();
        }

        function navigateTo(page, data = null) {
            state.currentPage = page;
            if (data) {
                state.selectedDress = data;
            }
            render();
        }

        // Page templates
        function ShopPage() {
            return `
                <div class="min-h-screen bg-gray-50 fade-in">
                    <header class="bg-white shadow-sm sticky top-0 z-10">
                        <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
                            <h1 class="text-2xl font-bold text-gray-900">Elegant Dresses</h1>
                            <button onclick="navigateTo('cart')" class="relative p-2 hover:bg-gray-100 rounded-full transition-colors">
                                ${icons.shoppingCart}
                                ${state.cart.length > 0 ? `
                                    <span class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">
                                        ${state.cart.length}
                                    </span>
                                ` : ''}
                            </button>
                        </div>
                    </header>

                    <main class="max-w-7xl mx-auto px-4 py-8">
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            ${dresses.map(dress => `
                                <div class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-shadow">
                                    <img src="${dress.image}" alt="${dress.name}" class="w-full h-80 object-cover">
                                    <div class="p-4">
                                        <h3 class="text-lg font-semibold text-gray-900">${dress.name}</h3>
                                        <p class="text-gray-600 text-sm mt-1">${dress.description}</p>
                                        <div class="mt-4 flex justify-between items-center">
                                            <span class="text-2xl font-bold text-gray-900">$${dress.price}</span>
                                            <button onclick='navigateTo("product", ${JSON.stringify(dress)})' class="bg-black text-white px-4 py-2 rounded-md hover:bg-gray-800 transition-colors">
                                                View Details
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </main>
                </div>
            `;
        }

        function ProductPage() {
            const dress = state.selectedDress;
            const defaultSize = dress.sizes[0];
            const defaultColor = dress.colors[0];

            // Store selected options
            if (!window.selectedOptions) {
                window.selectedOptions = { size: defaultSize, color: defaultColor };
            }

            return `
                <div class="min-h-screen bg-gray-50 fade-in">
                    <header class="bg-white shadow-sm">
                        <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
                            <button onclick="navigateTo('shop')" class="flex items-center text-gray-700 hover:text-gray-900">
                                ${icons.arrowLeft}
                                <span class="ml-2">Back to Shop</span>
                            </button>
                            <button onclick="navigateTo('cart')" class="relative p-2 hover:bg-gray-100 rounded-full">
                                ${icons.shoppingCart}
                                ${state.cart.length > 0 ? `
                                    <span class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">
                                        ${state.cart.length}
                                    </span>
                                ` : ''}
                            </button>
                        </div>
                    </header>

                    <main class="max-w-7xl mx-auto px-4 py-8">
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                            <div>
                                <img src="${dress.image}" alt="${dress.name}" class="w-full h-auto rounded-lg shadow-lg">
                            </div>
                            <div>
                                <h1 class="text-3xl font-bold text-gray-900">${dress.name}</h1>
                                <p class="text-3xl font-bold text-gray-900 mt-4">$${dress.price}</p>
                                <p class="text-gray-600 mt-4">${dress.description}</p>

                                <div class="mt-6">
                                    <label class="block text-sm font-semibold text-gray-700 mb-2">Size</label>
                                    <div class="flex gap-2">
                                        ${dress.sizes.map(size => `
                                            <button onclick="selectSize('${size}')" id="size-${size}" class="px-4 py-2 border rounded-md ${size === defaultSize ? 'border-black bg-black text-white' : 'border-gray-300 hover:border-gray-400'}">
                                                ${size}
                                            </button>
                                        `).join('')}
                                    </div>
                                </div>

                                <div class="mt-6">
                                    <label class="block text-sm font-semibold text-gray-700 mb-2">Color</label>
                                    <div class="flex gap-2">
                                        ${dress.colors.map(color => `
                                            <button onclick="selectColor('${color}')" id="color-${color}" class="px-4 py-2 border rounded-md ${color === defaultColor ? 'border-black bg-black text-white' : 'border-gray-300 hover:border-gray-400'}">
                                                ${color}
                                            </button>
                                        `).join('')}
                                    </div>
                                </div>

                                <button onclick="addToCartFromProduct()" class="w-full bg-black text-white py-3 rounded-md mt-8 hover:bg-gray-800 transition-colors text-lg font-semibold">
                                    Add to Cart
                                </button>
                            </div>
                        </div>
                    </main>
                </div>
            `;
        }

        function CartPage() {
            if (state.cart.length === 0) {
                return `
                    <div class="min-h-screen bg-gray-50 fade-in">
                        <header class="bg-white shadow-sm">
                            <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
                                <button onclick="navigateTo('shop')" class="flex items-center text-gray-700 hover:text-gray-900">
                                    ${icons.arrowLeft}
                                    <span class="ml-2">Continue Shopping</span>
                                </button>
                                <h1 class="text-2xl font-bold text-gray-900">Shopping Cart</h1>
                            </div>
                        </header>
                        <main class="max-w-4xl mx-auto px-4 py-8">
                            <div class="text-center py-16">
                                <div class="mx-auto mb-4 text-gray-400">${icons.shoppingCart}</div>
                                <h2 class="text-2xl font-semibold text-gray-900 mb-2">Your cart is empty</h2>
                                <p class="text-gray-600 mb-6">Add some beautiful dresses to your cart</p>
                                <button onclick="navigateTo('shop')" class="bg-black text-white px-6 py-3 rounded-md hover:bg-gray-800">
                                    Start Shopping
                                </button>
                            </div>
                        </main>
                    </div>
                `;
            }

            return `
                <div class="min-h-screen bg-gray-50 fade-in">
                    <header class="bg-white shadow-sm">
                        <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
                            <button onclick="navigateTo('shop')" class="flex items-center text-gray-700 hover:text-gray-900">
                                ${icons.arrowLeft}
                                <span class="ml-2">Continue Shopping</span>
                            </button>
                            <h1 class="text-2xl font-bold text-gray-900">Shopping Cart</h1>
                        </div>
                    </header>

                    <main class="max-w-4xl mx-auto px-4 py-8">
                        <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                            ${state.cart.map(item => `
                                <div class="flex items-center gap-4 py-4 border-b last:border-b-0">
                                    <img src="${item.image}" alt="${item.name}" class="w-24 h-32 object-cover rounded">
                                    <div class="flex-1">
                                        <h3 class="font-semibold text-gray-900">${item.name}</h3>
                                        <p class="text-sm text-gray-600">Size: ${item.selectedSize}</p>
                                        <p class="text-sm text-gray-600">Color: ${item.selectedColor}</p>
                                        <p class="text-lg font-bold text-gray-900 mt-2">$${item.price}</p>
                                    </div>
                                    <button onclick="removeFromCart(${item.cartId})" class="p-2 hover:bg-gray-100 rounded-full">
                                        ${icons.x}
                                    </button>
                                </div>
                            `).join('')}
                        </div>

                        <div class="bg-white rounded-lg shadow-md p-6">
                            <div class="flex justify-between items-center mb-4">
                                <span class="text-lg font-semibold">Subtotal</span>
                                <span class="text-lg">$${getTotalPrice()}</span>
                            </div>
                            <div class="flex justify-between items-center mb-4">
                                <span class="text-lg font-semibold">Shipping</span>
                                <span class="text-lg">Free</span>
                            </div>
                            <div class="border-t pt-4 flex justify-between items-center mb-6">
                                <span class="text-2xl font-bold">Total</span>
                                <span class="text-2xl font-bold">$${getTotalPrice()}</span>
                            </div>
                            <button onclick="navigateTo('checkout')" class="w-full bg-black text-white py-3 rounded-md hover:bg-gray-800 transition-colors text-lg font-semibold">
                                Proceed to Checkout
                            </button>
                        </div>
                    </main>
                </div>
            `;
        }

        function CheckoutPage() {
            return `
                <div class="min-h-screen bg-gray-50 fade-in">
                    <header class="bg-white shadow-sm">
                        <div class="max-w-7xl mx-auto px-4 py-4">
                            <h1 class="text-2xl font-bold text-gray-900">Checkout</h1>
                        </div>
                    </header>

                    <main class="max-w-4xl mx-auto px-4 py-8">
                        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                            <div class="lg:col-span-2">
                                <form onsubmit="handleCheckout(event)" class="bg-white rounded-lg shadow-md p-6">
                                    <h2 class="text-xl font-semibold mb-4">Shipping Information</h2>
                                    <div class="grid grid-cols-2 gap-4 mb-4">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-1">First Name</label>
                                            <input type="text" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black">
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-1">Last Name</label>
                                            <input type="text" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black">
                                        </div>
                                    </div>
                                    <div class="mb-4">
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                                        <input type="email" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black">
                                    </div>
                                    <div class="mb-4">
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Address</label>
                                        <input type="text" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black">
                                    </div>
                                    <div class="grid grid-cols-2 gap-4 mb-6">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-1">City</label>
                                            <input type="text" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black">
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-1">ZIP Code</label>
                                            <input type="text" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black">
                                        </div>
                                    </div>

                                    <h2 class="text-xl font-semibold mb-4">Payment Information</h2>
                                    <div class="mb-4">
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Card Number</label>
                                        <input type="text" required placeholder="1234 5678 9012 3456" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black">
                                    </div>
                                    <div class="grid grid-cols-2 gap-4 mb-6">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-1">Expiry Date</label>
                                            <input type="text" required placeholder="MM/YY" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black">
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-1">CVV</label>
                                            <input type="text" required placeholder="123" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-black">
                                        </div>
                                    </div>

                                    <button type="submit" class="w-full bg-black text-white py-3 rounded-md hover:bg-gray-800 transition-colors text-lg font-semibold">
                                        Place Order
                                    </button>
                                </form>
                            </div>

                            <div class="lg:col-span-1">
                                <div class="bg-white rounded-lg shadow-md p-6 sticky top-4">
                                    <h2 class="text-xl font-semibold mb-4">Order Summary</h2>
                                    <div class="space-y-3 mb-4">
                                        ${state.cart.map(item => `
                                            <div class="flex justify-between text-sm">
                                                <span class="text-gray-600">${item.name}</span>
                                                <span class="font-semibold">$${item.price}</span>
                                            </div>
                                        `).join('')}
                                    </div>
                                    <div class="border-t pt-4 space-y-2">
                                        <div class="flex justify-between">
                                            <span>Subtotal</span>
                                            <span>$${getTotalPrice()}</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span>Shipping</span>
                                            <span>Free</span>
                                        </div>
                                        <div class="border-t pt-2 flex justify-between text-lg font-bold">
                                            <span>Total</span>
                                            <span>$${getTotalPrice()}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </main>
                </div>
            `;
        }

        function ConfirmationPage() {
            const orderNumber = Math.floor(Math.random() * 1000000);
            return `
                <div class="min-h-screen bg-gray-50 flex items-center justify-center fade-in">
                    <div class="max-w-md w-full mx-4">
                        <div class="bg-white rounded-lg shadow-md p-8 text-center">
                            <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                ${icons.check}
                            </div>
                            <h1 class="text-2xl font-bold text-gray-900 mb-2">Order Confirmed!</h1>
                            <p class="text-gray-600 mb-6">
                                Thank you for your purchase. Your order has been successfully placed.
                            </p>
                            <div class="bg-gray-50 rounded-lg p-4 mb-6 text-left">
                                <h3 class="font-semibold mb-2">Order Details</h3>
                                <p class="text-sm text-gray-600">Order Number: #${orderNumber}</p>
                                <p class="text-sm text-gray-600">Total: $${getTotalPrice()}</p>
                                <p class="text-sm text-gray-600">Items: ${state.cart.length}</p>
                            </div>
                            <button onclick="resetAndGoHome()" class="w-full bg-black text-white py-3 rounded-md hover:bg-gray-800 transition-colors font-semibold">
                                Continue Shopping
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        // Event handlers
        function selectSize(size) {
            window.selectedOptions.size = size;
            const dress = state.selectedDress;
            dress.sizes.forEach(s => {
                const btn = document.getElementById(`size-${s}`);
                if (btn) {
                    if (s === size) {
                        btn.className = 'px-4 py-2 border rounded-md border-black bg-black text-white';
                    } else {
                        btn.className = 'px-4 py-2 border rounded-md border-gray-300 hover:border-gray-400';
                    }
                }
            });
        }

        function selectColor(color) {
            window.selectedOptions.color = color;
            const dress = state.selectedDress;
            dress.colors.forEach(c => {
                const btn = document.getElementById(`color-${c}`);
                if (btn) {
                    if (c === color) {
                        btn.className = 'px-4 py-2 border rounded-md border-black bg-black text-white';
                    } else {
                        btn.className = 'px-4 py-2 border rounded-md border-gray-300 hover:border-gray-400';
                    }
                }
            });
        }

        function addToCartFromProduct() {
            const size = window.selectedOptions.size;
            const color = window.selectedOptions.color;
            addToCart(state.selectedDress, size, color);
        }

        function handleCheckout(event) {
            event.preventDefault();
            state.currentPage = 'confirmation';
            render();
        }

        function resetAndGoHome() {
            state.cart = [];
            state.currentPage = 'shop';
            render();
        }

        // Render function
        function render() {
            const app = document.getElementById('app');
            let content = '';

            switch(state.currentPage) {
                case 'shop':
                    content = ShopPage();
                    break;
                case 'product':
                    content = ProductPage();
                    break;
                case 'cart':
                    content = CartPage();
                    break;
                case 'checkout':
                    content = CheckoutPage();
                    break;
                case 'confirmation':
                    content = ConfirmationPage();
                    break;
                default:
                    content = ShopPage();
            }

            app.innerHTML = content;
            window.scrollTo(0, 0);
        }

        // Initial render
        render();
    </script>
</body>
</html>
